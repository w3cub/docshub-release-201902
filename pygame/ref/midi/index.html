
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Midi - Pygame - W3cubDocs</title>
  
  <meta name="description" content=" The midi module can send output to midi devices, and get input from midi devices. It can also list midi devices on the system. ">
  <meta name="keywords" content="pygame, midi, input, output, -">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/pygame/ref/midi/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/pygame.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/pygame/" class="_nav-link" title="" style="margin-left:0;">Pygame</a></span>
  
  <nav class="_nav">
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _simple">
				
				
<h1 class="title module" data-name="pygame.midi"> <span class="pre">pygame.midi</span>
</h1> <blockquote class="line-block"> <div class="line"><span class="summaryline">pygame module for interacting with midi input and output.</span></div> </blockquote>  <p>The midi module can send output to midi devices, and get input from midi devices. It can also list midi devices on the system.</p> <p>Including real midi devices, and virtual ones.</p> <p>It uses the portmidi library. Is portable to which ever platforms portmidi supports (currently Windows, <code class="docutils literal notranslate"><span class="pre">OSX</span></code>, and Linux).</p> <p>This uses pyportmidi for now, but may use its own bindings at some point in the future. The pyportmidi bindings are included with pygame.</p> <p>New in pygame 1.9.0.</p> <dl class="definition class"> <h1 class="title" id="pygame.midi.Input" data-name="pygame.midi.Input"> pygame.midi.Input</h1> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">Input is used to get midi input from midi devices.</span></div> <div class="line"><code class="signature">Input(device_id) -&gt; None</code></div> <div class="line"><code class="signature">Input(device_id, buffer_size) -&gt; None</code></div> </blockquote>  <p>buffer_size -the number of input events to be buffered waiting to</p> <pre class="language-python" data-language="python">be read using Input.read()
</pre> <dl class="definition method"> <h3 class="title" id="pygame.midi.Input.close" data-name="close()">
<code class="signature">close() -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">closes a midi stream, flushing any pending buffers.</span></div>  </blockquote> <p>PortMidi attempts to close open streams when the application exits -- this is particularly difficult under Windows.</p> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Input.poll" data-name="poll()">
<code class="signature">poll() -&gt; Bool</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">returns true if there's data, or false if not.</span></div>  </blockquote> <p>raises a MidiException on error.</p> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Input.read" data-name="read()">
<code class="signature">read(num_events) -&gt; midi_event_list</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">reads num_events midi events from the buffer.</span></div>  </blockquote> <p>Reads from the Input buffer and gives back midi events. [[[status,data1,data2,data3],timestamp],</p> <pre class="language-python" data-language="python">[[status,data1,data2,data3],timestamp],...]
</pre> </dd>
</dl> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.MidiException" data-name="pygame.midi.MidiException()">
<code class="signature">MidiException(errno) -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">exception that pygame.midi functions and classes can raise</span></div>  </blockquote> </dd>
</dl> <dl class="definition class"> <h1 class="title" id="pygame.midi.Output" data-name="pygame.midi.Output"> pygame.midi.Output</h1> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">Output is used to send midi to an output device</span></div> <div class="line"><code class="signature">Output(device_id) -&gt; None</code></div> <div class="line"><code class="signature">Output(device_id, latency = 0) -&gt; None</code></div> <div class="line"><code class="signature">Output(device_id, buffer_size = 4096) -&gt; None</code></div> <div class="line"><code class="signature">Output(device_id, latency, buffer_size) -&gt; None</code></div> </blockquote>  <p>The buffer_size specifies the number of output events to be buffered waiting for output. (In some cases -- see below -- PortMidi does not buffer output at all and merely passes data to a lower-level <code class="docutils literal notranslate"><span class="pre">API</span></code>, in which case buffersize is ignored.)</p> <p>latency is the delay in milliseconds applied to timestamps to determine when the output should actually occur. (If latency is &lt;&lt;0, 0 is assumed.)</p> <p>If latency is zero, timestamps are ignored and all output is delivered immediately. If latency is greater than zero, output is delayed until the message timestamp plus the latency. (NOTE: time is measured relative to the time source indicated by time_proc. Timestamps are absolute, not relative delays or offsets.) In some cases, PortMidi can obtain better timing than your application by passing timestamps along to the device driver or hardware. Latency may also help you to synchronize midi data to audio data by matching midi latency to the audio buffer latency.</p> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.abort" data-name="abort()">
<code class="signature">abort() -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">terminates outgoing messages immediately</span></div>  </blockquote> <p>The caller should immediately close the output port; this call may result in transmission of a partial midi message. There is no abort for Midi input because the user can simply ignore messages in the buffer and close an input device at any time.</p> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.close" data-name="close()">
<code class="signature">close() -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">closes a midi stream, flushing any pending buffers.</span></div>  </blockquote> <p>PortMidi attempts to close open streams when the application exits -- this is particularly difficult under Windows.</p> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.note_off" data-name="note_off()">
<code class="signature">note_off(note, velocity=None, channel = 0) -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">turns a midi note off. Note must be on.</span></div>  </blockquote> <p>Turn a note off in the output stream. The note must already be on for this to work correctly.</p> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.note_on" data-name="note_on()">
<code class="signature">note_on(note, velocity=None, channel = 0) -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">turns a midi note on. Note must be off.</span></div>  </blockquote> <p>Turn a note on in the output stream. The note must already be off for this to work correctly.</p> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.set_instrument" data-name="set_instrument()">
<code class="signature">set_instrument(instrument_id, channel = 0) -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">select an instrument, with a value between 0 and 127</span></div>  </blockquote> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.write" data-name="write()">
<code class="signature">write(data) -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">writes a list of midi data to the Output</span></div>  </blockquote> <p>writes series of <code class="docutils literal notranslate"><span class="pre">MIDI</span></code> information in the form of a list:</p> <pre class="language-python" data-language="python">write([[[status &lt;,data1&gt;&lt;,data2&gt;&lt;,data3&gt;],timestamp],
       [[status &lt;,data1&gt;&lt;,data2&gt;&lt;,data3&gt;],timestamp],...])
</pre> <p>&lt;data&gt; fields are optional example: choose program change 1 at time 20000 and send note 65 with velocity 100 500 ms later.</p> <pre class="language-python" data-language="python">write([[[0xc0,0,0],20000],[[0x90,60,100],20500]])
</pre> <p>notes:</p> <pre class="language-python" data-language="python">1. timestamps will be ignored if latency = 0.
2. To get a note to play immediately, send MIDI info with
   timestamp read from function Time.
3. understanding optional data fields:
     write([[[0xc0,0,0],20000]]) is equivalent to
     write([[[0xc0],20000]])
</pre> <p>Can send up to 1024 elements in your data list, otherwise an</p> <pre class="language-python" data-language="python">IndexError exception is raised.
</pre> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.write_short" data-name="write_short()">
<code class="signature">write_short(status) -&gt; None</code><br><code class="signature">write_short(status, data1 = 0, data2 = 0) -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">write_short(status &lt;, data1&gt;&lt;, data2&gt;)</span></div>   </blockquote> <p>output <code class="docutils literal notranslate"><span class="pre">MIDI</span></code> information of 3 bytes or less. data fields are optional status byte could be:</p> <pre class="language-python" data-language="python">0xc0 = program change
0x90 = note on
etc.
data bytes are optional and assumed 0 if omitted
</pre> <p>example: note 65 on with velocity 100</p> <pre class="language-python" data-language="python">write_short(0x90,65,100)
</pre> </dd>
</dl> <dl class="definition method"> <h3 class="title" id="pygame.midi.Output.write_sys_ex" data-name="write_sys_ex()">
<code class="signature">write_sys_ex(when, msg) -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">writes a timestamped system-exclusive midi message.</span></div>  </blockquote> <p>msg - can be a *list* or a *string* when - a timestamp in milliseconds example:</p> <pre class="language-python" data-language="python">(assuming o is an output MIDI stream)
  o.write_sys_ex(0,'\xF0\x7D\x10\x11\x12\x13\xF7')
is equivalent to
  o.write_sys_ex(pygame.midi.time(),
                 [0xF0,0x7D,0x10,0x11,0x12,0x13,0xF7])
</pre> </dd>
</dl> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.get_count" data-name="pygame.midi.get_count()">
<code class="signature">get_count() -&gt; num_devices</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">gets the number of devices.</span></div>  </blockquote> <p>Device ids range from 0 to <code class="docutils literal notranslate"><span class="pre">get_count()</span></code> -1</p> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.get_default_input_id" data-name="pygame.midi.get_default_input_id()">
<code class="signature">get_default_input_id() -&gt; default_id</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">gets default input device number</span></div>  </blockquote> <p>Return the default device <code class="docutils literal notranslate"><span class="pre">ID</span></code> or -1 if there are no devices. The result can be passed to the Input()/Output() class.</p> <p>On the <code class="docutils literal notranslate"><span class="pre">PC</span></code>, the user can specify a default device by setting an environment variable. For example, to use device #1.</p> <pre class="language-python" data-language="python">set PM_RECOMMENDED_INPUT_DEVICE=1
</pre> <p>The user should first determine the available device <code class="docutils literal notranslate"><span class="pre">ID</span></code> by using the supplied application "testin" or "testout".</p> <p>In general, the registry is a better place for this kind of info, and with <code class="docutils literal notranslate"><span class="pre">USB</span></code> devices that can come and go, using integers is not very reliable for device identification. Under Windows, if <code class="docutils literal notranslate"><span class="pre">PM_RECOMMENDED_OUTPUT_DEVICE</span></code> (or <code class="docutils literal notranslate"><span class="pre">PM_RECOMMENDED_INPUT_DEVICE</span></code>) is *NOT* found in the environment, then the default device is obtained by looking for a string in the registry under:</p> <pre class="language-python" data-language="python">HKEY_LOCAL_MACHINE/SOFTWARE/PortMidi/Recommended_Input_Device
</pre> <p>and HKEY_LOCAL_MACHINE/SOFTWARE/PortMidi/Recommended_Output_Device for a string. The number of the first device with a substring that matches the string exactly is returned. For example, if the string in the registry is "USB", and device 1 is named "In <code class="docutils literal notranslate"><span class="pre">USB</span></code> MidiSport 1x1", then that will be the default input because it contains the string "USB".</p> <p>In addition to the name, <code class="docutils literal notranslate"><span class="pre">get_device_info()</span></code> returns "interf", which is the interface name. (The "interface" is the underlying software system or <code class="docutils literal notranslate"><span class="pre">API</span></code> used by PortMidi to access devices. Examples are MMSystem, DirectX (not implemented), <code class="docutils literal notranslate"><span class="pre">ALSA</span></code>, <code class="docutils literal notranslate"><span class="pre">OSS</span></code> (not implemented), etc.) At present, the only Win32 interface is "MMSystem", the only Linux interface is "ALSA", and the only Max <code class="docutils literal notranslate"><span class="pre">OS</span></code> <code class="docutils literal notranslate"><span class="pre">X</span></code> interface is "CoreMIDI". To specify both the interface and the device name in the registry, separate the two with a comma and a space, <code class="docutils literal notranslate"><span class="pre">e.g.</span></code>:</p> <pre class="language-python" data-language="python">MMSystem, In USB MidiSport 1x1
</pre> <p>In this case, the string before the comma must be a substring of the "interf" string, and the string after the space must be a substring of the "name" name string in order to match the device.</p> <p>Note: in the current release, the default is simply the first device (the input or output device with the lowest PmDeviceID).</p> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.get_default_output_id" data-name="pygame.midi.get_default_output_id()">
<code class="signature">get_default_output_id() -&gt; default_id</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">gets default output device number</span></div>  </blockquote> <p>Return the default device <code class="docutils literal notranslate"><span class="pre">ID</span></code> or -1 if there are no devices. The result can be passed to the Input()/Output() class.</p> <p>On the <code class="docutils literal notranslate"><span class="pre">PC</span></code>, the user can specify a default device by setting an environment variable. For example, to use device #1.</p> <pre class="language-python" data-language="python">set PM_RECOMMENDED_OUTPUT_DEVICE=1
</pre> <p>The user should first determine the available device <code class="docutils literal notranslate"><span class="pre">ID</span></code> by using the supplied application "testin" or "testout".</p> <p>In general, the registry is a better place for this kind of info, and with <code class="docutils literal notranslate"><span class="pre">USB</span></code> devices that can come and go, using integers is not very reliable for device identification. Under Windows, if <code class="docutils literal notranslate"><span class="pre">PM_RECOMMENDED_OUTPUT_DEVICE</span></code> (or <code class="docutils literal notranslate"><span class="pre">PM_RECOMMENDED_INPUT_DEVICE</span></code>) is *NOT* found in the environment, then the default device is obtained by looking for a string in the registry under:</p> <pre class="language-python" data-language="python">HKEY_LOCAL_MACHINE/SOFTWARE/PortMidi/Recommended_Input_Device
</pre> <p>and HKEY_LOCAL_MACHINE/SOFTWARE/PortMidi/Recommended_Output_Device for a string. The number of the first device with a substring that matches the string exactly is returned. For example, if the string in the registry is "USB", and device 1 is named "In <code class="docutils literal notranslate"><span class="pre">USB</span></code> MidiSport 1x1", then that will be the default input because it contains the string "USB".</p> <p>In addition to the name, <code class="docutils literal notranslate"><span class="pre">get_device_info()</span></code> returns "interf", which is the interface name. (The "interface" is the underlying software system or <code class="docutils literal notranslate"><span class="pre">API</span></code> used by PortMidi to access devices. Examples are MMSystem, DirectX (not implemented), <code class="docutils literal notranslate"><span class="pre">ALSA</span></code>, <code class="docutils literal notranslate"><span class="pre">OSS</span></code> (not implemented), etc.) At present, the only Win32 interface is "MMSystem", the only Linux interface is "ALSA", and the only Max <code class="docutils literal notranslate"><span class="pre">OS</span></code> <code class="docutils literal notranslate"><span class="pre">X</span></code> interface is "CoreMIDI". To specify both the interface and the device name in the registry, separate the two with a comma and a space, <code class="docutils literal notranslate"><span class="pre">e.g.</span></code>:</p> <pre class="language-python" data-language="python">MMSystem, In USB MidiSport 1x1
</pre> <p>In this case, the string before the comma must be a substring of the "interf" string, and the string after the space must be a substring of the "name" name string in order to match the device.</p> <p>Note: in the current release, the default is simply the first device (the input or output device with the lowest PmDeviceID).</p> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.get_device_info" data-name="pygame.midi.get_device_info()">
<code class="signature">get_device_info(an_id) -&gt; (interf, name, input, output, opened)</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">returns information about a midi device</span></div>  </blockquote> <p>interf - a text string describing the device interface, eg 'ALSA'. name - a text string for the name of the device, eg 'Midi Through Port-0' input - 0, or 1 if the device is an input device. output - 0, or 1 if the device is an output device. opened - 0, or 1 if the device is opened.</p> <p>If the id is out of range, the function returns None.</p> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.init" data-name="pygame.midi.init()">
<code class="signature">init() -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">initialize the midi module</span></div>  </blockquote> <p>Call the initialisation function before using the midi module.</p> <p>It is safe to call this more than once.</p> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.midis2events" data-name="pygame.midi.midis2events()">
<code class="signature">midis2events(midis, device_id) -&gt; [Event, ...]</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">converts midi events to pygame events</span></div>  </blockquote> <p>Takes a sequence of midi events and returns list of pygame events.</p> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.quit" data-name="pygame.midi.quit()">
<code class="signature">quit() -&gt; None</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">uninitialize the midi module</span></div>  </blockquote> <p>Called automatically atexit if you don't call it.</p> <p>It is safe to call this function more than once.</p> </dd>
</dl> <dl class="definition function"> <h3 class="title" id="pygame.midi.time" data-name="pygame.midi.time()">
<code class="signature">time() -&gt; time</code><br>
</h3> <dd>
<blockquote class="line-block"> <div class="line"><span class="summaryline">returns the current time in ms of the PortMidi timer</span></div>  </blockquote> <p>The time is reset to 0, when the module is inited.</p> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© Pygame Developpers.<br>Licensed under the GNU LGPL License version 2.1.<br>
    <a href="https://www.pygame.org/docs/ref/midi.html" class="_attribution-link" target="_blank">https://www.pygame.org/docs/ref/midi.html</a>
  </p>
</div>

				<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
